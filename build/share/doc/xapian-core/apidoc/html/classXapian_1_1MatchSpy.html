<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xapian: API Documentation: Xapian::MatchSpy Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">xapian-core
   &#160;<span id="projectnumber">1.4.18</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceXapian.html">Xapian</a></li><li class="navelem"><a class="el" href="classXapian_1_1MatchSpy.html">MatchSpy</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classXapian_1_1MatchSpy-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Xapian::MatchSpy Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract base class for match spies.  
 <a href="classXapian_1_1MatchSpy.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Xapian::MatchSpy:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classXapian_1_1MatchSpy__inherit__graph.png" border="0" usemap="#aXapian_1_1MatchSpy_inherit__map" alt="Inheritance graph"/></div>
<map name="aXapian_1_1MatchSpy_inherit__map" id="aXapian_1_1MatchSpy_inherit__map">
<area shape="rect" title="Abstract base class for match spies." alt="" coords="43,95,182,121"/>
<area shape="rect" href="classXapian_1_1ValueCountMatchSpy.html" title="Class for counting the frequencies of values in the matching documents." alt="" coords="5,169,220,196"/>
<area shape="rect" title=" " alt="" coords="35,5,190,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6f1b24d1ef113cf625ce75b6320212ed"><td class="memItemLeft" align="right" valign="top"><a id="a6f1b24d1ef113cf625ce75b6320212ed"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1MatchSpy.html#a6f1b24d1ef113cf625ce75b6320212ed">MatchSpy</a> ()</td></tr>
<tr class="memdesc:a6f1b24d1ef113cf625ce75b6320212ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor, needed by subclass constructors. <br /></td></tr>
<tr class="separator:a6f1b24d1ef113cf625ce75b6320212ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33eef1126286858ed6c9908028dcae5b"><td class="memItemLeft" align="right" valign="top"><a id="a33eef1126286858ed6c9908028dcae5b"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1MatchSpy.html#a33eef1126286858ed6c9908028dcae5b">~MatchSpy</a> ()</td></tr>
<tr class="memdesc:a33eef1126286858ed6c9908028dcae5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor, because we have virtual methods. <br /></td></tr>
<tr class="separator:a33eef1126286858ed6c9908028dcae5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46228fa80cf68ce528d2023ab38b642a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1MatchSpy.html#a46228fa80cf68ce528d2023ab38b642a">operator()</a> (const <a class="el" href="classXapian_1_1Document.html">Xapian::Document</a> &amp;doc, double wt)=0</td></tr>
<tr class="memdesc:a46228fa80cf68ce528d2023ab38b642a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a document with the match spy.  <a href="classXapian_1_1MatchSpy.html#a46228fa80cf68ce528d2023ab38b642a">More...</a><br /></td></tr>
<tr class="separator:a46228fa80cf68ce528d2023ab38b642a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2085fa1b1b3c73b0efa25de6d8ed2d93"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classXapian_1_1MatchSpy.html">MatchSpy</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1MatchSpy.html#a2085fa1b1b3c73b0efa25de6d8ed2d93">clone</a> () const</td></tr>
<tr class="memdesc:a2085fa1b1b3c73b0efa25de6d8ed2d93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clone the match spy.  <a href="classXapian_1_1MatchSpy.html#a2085fa1b1b3c73b0efa25de6d8ed2d93">More...</a><br /></td></tr>
<tr class="separator:a2085fa1b1b3c73b0efa25de6d8ed2d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bb708d4d564af2c21c36b9ed6ea868f"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1MatchSpy.html#a8bb708d4d564af2c21c36b9ed6ea868f">name</a> () const</td></tr>
<tr class="memdesc:a8bb708d4d564af2c21c36b9ed6ea868f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the name of this match spy.  <a href="classXapian_1_1MatchSpy.html#a8bb708d4d564af2c21c36b9ed6ea868f">More...</a><br /></td></tr>
<tr class="separator:a8bb708d4d564af2c21c36b9ed6ea868f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9920929d6343a17a14885c4a2d2e3cb"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1MatchSpy.html#af9920929d6343a17a14885c4a2d2e3cb">serialise</a> () const</td></tr>
<tr class="memdesc:af9920929d6343a17a14885c4a2d2e3cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return this object's parameters serialised as a single string.  <a href="classXapian_1_1MatchSpy.html#af9920929d6343a17a14885c4a2d2e3cb">More...</a><br /></td></tr>
<tr class="separator:af9920929d6343a17a14885c4a2d2e3cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22c93c6aed811772fde0731bbd8548c7"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classXapian_1_1MatchSpy.html">MatchSpy</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1MatchSpy.html#a22c93c6aed811772fde0731bbd8548c7">unserialise</a> (const std::string &amp;serialised, const <a class="el" href="classXapian_1_1Registry.html">Registry</a> &amp;context) const</td></tr>
<tr class="memdesc:a22c93c6aed811772fde0731bbd8548c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unserialise parameters.  <a href="classXapian_1_1MatchSpy.html#a22c93c6aed811772fde0731bbd8548c7">More...</a><br /></td></tr>
<tr class="separator:a22c93c6aed811772fde0731bbd8548c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f5262d41b6c96ef9c3d8f8e0f9f296"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1MatchSpy.html#ab6f5262d41b6c96ef9c3d8f8e0f9f296">serialise_results</a> () const</td></tr>
<tr class="memdesc:ab6f5262d41b6c96ef9c3d8f8e0f9f296"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialise the results of this match spy.  <a href="classXapian_1_1MatchSpy.html#ab6f5262d41b6c96ef9c3d8f8e0f9f296">More...</a><br /></td></tr>
<tr class="separator:ab6f5262d41b6c96ef9c3d8f8e0f9f296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2325f227e120de96e59dd9aa1a6bbf2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1MatchSpy.html#ac2325f227e120de96e59dd9aa1a6bbf2">merge_results</a> (const std::string &amp;serialised)</td></tr>
<tr class="memdesc:ac2325f227e120de96e59dd9aa1a6bbf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unserialise some results, and merge them into this matchspy.  <a href="classXapian_1_1MatchSpy.html#ac2325f227e120de96e59dd9aa1a6bbf2">More...</a><br /></td></tr>
<tr class="separator:ac2325f227e120de96e59dd9aa1a6bbf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9a70c4d8f53096b200ad7ea7e830e9"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1MatchSpy.html#a0b9a70c4d8f53096b200ad7ea7e830e9">get_description</a> () const</td></tr>
<tr class="memdesc:a0b9a70c4d8f53096b200ad7ea7e830e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a string describing this object.  <a href="classXapian_1_1MatchSpy.html#a0b9a70c4d8f53096b200ad7ea7e830e9">More...</a><br /></td></tr>
<tr class="separator:a0b9a70c4d8f53096b200ad7ea7e830e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af57523e8ae0f2e26139e2c3204251c33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXapian_1_1MatchSpy.html">MatchSpy</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1MatchSpy.html#af57523e8ae0f2e26139e2c3204251c33">release</a> ()</td></tr>
<tr class="memdesc:af57523e8ae0f2e26139e2c3204251c33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start reference counting this object.  <a href="classXapian_1_1MatchSpy.html#af57523e8ae0f2e26139e2c3204251c33">More...</a><br /></td></tr>
<tr class="separator:af57523e8ae0f2e26139e2c3204251c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeafb2ad4de8f5e8989a3857932dda9a6"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classXapian_1_1MatchSpy.html">MatchSpy</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1MatchSpy.html#aeafb2ad4de8f5e8989a3857932dda9a6">release</a> () const</td></tr>
<tr class="memdesc:aeafb2ad4de8f5e8989a3857932dda9a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start reference counting this object.  <a href="classXapian_1_1MatchSpy.html#aeafb2ad4de8f5e8989a3857932dda9a6">More...</a><br /></td></tr>
<tr class="separator:aeafb2ad4de8f5e8989a3857932dda9a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract base class for match spies. </p>
<p>The subclasses will generally accumulate information seen during the match, to calculate aggregate functions, or other profiles of the matching documents. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2085fa1b1b3c73b0efa25de6d8ed2d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2085fa1b1b3c73b0efa25de6d8ed2d93">&#9670;&nbsp;</a></span>clone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classXapian_1_1MatchSpy.html">MatchSpy</a>* Xapian::MatchSpy::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clone the match spy. </p>
<p>The clone should inherit the configuration of the parent, but need not inherit the state. ie, the clone does not need to be passed information about the results seen by the parent.</p>
<p>If you don't want to support the remote backend in your match spy, you can use the default implementation which simply throws <a class="el" href="classXapian_1_1UnimplementedError.html" title="UnimplementedError indicates an attempt to use an unimplemented feature.">Xapian::UnimplementedError</a>.</p>
<p>Note that the returned object will be deallocated by <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> after use with "delete". If you want to handle the deletion in a special way (for example when wrapping the <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> API for use from another language) then you can define a static <code>operator delete</code> method in your subclass as shown here: <a href="https://trac.xapian.org/ticket/554#comment:1">https://trac.xapian.org/ticket/554#comment:1</a> </p>

<p>Reimplemented in <a class="el" href="classXapian_1_1ValueCountMatchSpy.html#ad76ecb47910a1c6a13302669c0c5c37d">Xapian::ValueCountMatchSpy</a>.</p>

</div>
</div>
<a id="a0b9a70c4d8f53096b200ad7ea7e830e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b9a70c4d8f53096b200ad7ea7e830e9">&#9670;&nbsp;</a></span>get_description()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string Xapian::MatchSpy::get_description </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a string describing this object. </p>
<p>This default implementation returns a generic answer, to avoid forcing those deriving their own <a class="el" href="classXapian_1_1MatchSpy.html" title="Abstract base class for match spies.">MatchSpy</a> subclasses from having to implement this (they may not care what <a class="el" href="classXapian_1_1MatchSpy.html#a0b9a70c4d8f53096b200ad7ea7e830e9" title="Return a string describing this object.">get_description()</a> gives for their subclass). </p>

<p>Reimplemented in <a class="el" href="classXapian_1_1ValueCountMatchSpy.html#a265b88f764f1462947233db9105a5d25">Xapian::ValueCountMatchSpy</a>.</p>

</div>
</div>
<a id="ac2325f227e120de96e59dd9aa1a6bbf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2325f227e120de96e59dd9aa1a6bbf2">&#9670;&nbsp;</a></span>merge_results()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Xapian::MatchSpy::merge_results </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>serialised</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unserialise some results, and merge them into this matchspy. </p>
<p>The order in which results are merged should not be significant, since this order is not specified (and will vary depending on the speed of the search in each sub-database).</p>
<p>If you don't want to support the remote backend in your match spy, you can use the default implementation which simply throws <a class="el" href="classXapian_1_1UnimplementedError.html" title="UnimplementedError indicates an attempt to use an unimplemented feature.">Xapian::UnimplementedError</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serialised</td><td>A string containing the serialised results. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classXapian_1_1ValueCountMatchSpy.html#a532aa4b7592750ce833a4a8031666119">Xapian::ValueCountMatchSpy</a>.</p>

</div>
</div>
<a id="a8bb708d4d564af2c21c36b9ed6ea868f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bb708d4d564af2c21c36b9ed6ea868f">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string Xapian::MatchSpy::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the name of this match spy. </p>
<p>This name is used by the remote backend. It is passed with the serialised parameters to the remote server so that it knows which class to create.</p>
<p>Return the full namespace-qualified name of your class here - if your class is called MyApp::FooMatchSpy, return "MyApp::FooMatchSpy" from this method.</p>
<p>If you don't want to support the remote backend in your match spy, you can use the default implementation which simply throws <a class="el" href="classXapian_1_1UnimplementedError.html" title="UnimplementedError indicates an attempt to use an unimplemented feature.">Xapian::UnimplementedError</a>. </p>

<p>Reimplemented in <a class="el" href="classXapian_1_1ValueCountMatchSpy.html#aa2baaef80a28006a1ef935036bd9b8f5">Xapian::ValueCountMatchSpy</a>.</p>

</div>
</div>
<a id="a46228fa80cf68ce528d2023ab38b642a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46228fa80cf68ce528d2023ab38b642a">&#9670;&nbsp;</a></span>operator()()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Xapian::MatchSpy::operator() </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classXapian_1_1Document.html">Xapian::Document</a> &amp;&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>wt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a document with the match spy. </p>
<p>This is called by the matcher once with each document seen by the matcher during the match process. Note that the matcher will often not see all the documents which match the query, due to optimisations which allow low-weighted documents to be skipped, and allow the match process to be terminated early.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">doc</td><td>The document seen by the match spy. </td></tr>
    <tr><td class="paramname">wt</td><td>The weight of the document. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classXapian_1_1ValueCountMatchSpy.html#a4635086013fa8146d6f7e9176bdc1623">Xapian::ValueCountMatchSpy</a>.</p>

</div>
</div>
<a id="af57523e8ae0f2e26139e2c3204251c33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af57523e8ae0f2e26139e2c3204251c33">&#9670;&nbsp;</a></span>release() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXapian_1_1MatchSpy.html">MatchSpy</a>* Xapian::MatchSpy::release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start reference counting this object. </p>
<p>You can hand ownership of a dynamically allocated <a class="el" href="classXapian_1_1MatchSpy.html" title="Abstract base class for match spies.">MatchSpy</a> object to <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> by calling <a class="el" href="classXapian_1_1MatchSpy.html#af57523e8ae0f2e26139e2c3204251c33" title="Start reference counting this object.">release()</a> and then passing the object to a <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> method. <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> will arrange to delete the object once it is no longer required. </p>

</div>
</div>
<a id="aeafb2ad4de8f5e8989a3857932dda9a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeafb2ad4de8f5e8989a3857932dda9a6">&#9670;&nbsp;</a></span>release() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classXapian_1_1MatchSpy.html">MatchSpy</a>* Xapian::MatchSpy::release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start reference counting this object. </p>
<p>You can hand ownership of a dynamically allocated <a class="el" href="classXapian_1_1MatchSpy.html" title="Abstract base class for match spies.">MatchSpy</a> object to <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> by calling <a class="el" href="classXapian_1_1MatchSpy.html#af57523e8ae0f2e26139e2c3204251c33" title="Start reference counting this object.">release()</a> and then passing the object to a <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> method. <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> will arrange to delete the object once it is no longer required. </p>

</div>
</div>
<a id="af9920929d6343a17a14885c4a2d2e3cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9920929d6343a17a14885c4a2d2e3cb">&#9670;&nbsp;</a></span>serialise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string Xapian::MatchSpy::serialise </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return this object's parameters serialised as a single string. </p>
<p>If you don't want to support the remote backend in your match spy, you can use the default implementation which simply throws <a class="el" href="classXapian_1_1UnimplementedError.html" title="UnimplementedError indicates an attempt to use an unimplemented feature.">Xapian::UnimplementedError</a>. </p>

<p>Reimplemented in <a class="el" href="classXapian_1_1ValueCountMatchSpy.html#a4bc38753f440c8da6ff719ae17b7d671">Xapian::ValueCountMatchSpy</a>.</p>

</div>
</div>
<a id="ab6f5262d41b6c96ef9c3d8f8e0f9f296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6f5262d41b6c96ef9c3d8f8e0f9f296">&#9670;&nbsp;</a></span>serialise_results()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string Xapian::MatchSpy::serialise_results </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Serialise the results of this match spy. </p>
<p>If you don't want to support the remote backend in your match spy, you can use the default implementation which simply throws <a class="el" href="classXapian_1_1UnimplementedError.html" title="UnimplementedError indicates an attempt to use an unimplemented feature.">Xapian::UnimplementedError</a>. </p>

<p>Reimplemented in <a class="el" href="classXapian_1_1ValueCountMatchSpy.html#a04260d9ea536a77f553d4e70f258d42f">Xapian::ValueCountMatchSpy</a>.</p>

</div>
</div>
<a id="a22c93c6aed811772fde0731bbd8548c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22c93c6aed811772fde0731bbd8548c7">&#9670;&nbsp;</a></span>unserialise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classXapian_1_1MatchSpy.html">MatchSpy</a>* Xapian::MatchSpy::unserialise </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>serialised</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classXapian_1_1Registry.html">Registry</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unserialise parameters. </p>
<p>This method unserialises parameters serialised by the <em><a class="el" href="classXapian_1_1MatchSpy.html#af9920929d6343a17a14885c4a2d2e3cb" title="Return this object&#39;s parameters serialised as a single string.">serialise()</a></em> method and allocates and returns a new object initialised with them.</p>
<p>If you don't want to support the remote backend in your match spy, you can use the default implementation which simply throws <a class="el" href="classXapian_1_1UnimplementedError.html" title="UnimplementedError indicates an attempt to use an unimplemented feature.">Xapian::UnimplementedError</a>.</p>
<p>Note that the returned object will be deallocated by <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> after use with "delete". If you want to handle the deletion in a special way (for example when wrapping the <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> API for use from another language) then you can define a static <code>operator delete</code> method in your subclass as shown here: <a href="https://trac.xapian.org/ticket/554#comment:1">https://trac.xapian.org/ticket/554#comment:1</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serialised</td><td>A string containing the serialised results. </td></tr>
    <tr><td class="paramname">context</td><td><a class="el" href="classXapian_1_1Registry.html" title="Registry for user subclasses.">Registry</a> object to use for unserialisation to permit <a class="el" href="classXapian_1_1MatchSpy.html" title="Abstract base class for match spies.">MatchSpy</a> subclasses with sub-MatchSpy objects to be implemented. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classXapian_1_1ValueCountMatchSpy.html#a1d6043704e5996c30ca012f30d7268cc">Xapian::ValueCountMatchSpy</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>xapian/<a class="el" href="matchspy_8h.html">matchspy.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="https://www.doxygen.org/">Doxygen 1.9.1</a>
</small></address>
</body>
</html>
